# JSYG.FullEditor

Provides a complete and very simple API to create your own svg online editor. UI is your concern.

### Demo

[http://yannickbochatay.github.io/JSYG.FullEditor](http://yannickbochatay.github.io/JSYG.FullEditor/)

### Installation

```shell
npm install jsyg-fulleditor
```

### Example

HTML

```html
<svg width="500" height="500" id="editor"></svg>

Shape :
<select name="shape">
    <option>circle</option>
    <option>rect</option>
    <option>line</option>
    <option>polyline</option>
</select>

<button id="importImage">Import image</button>

<button id="download">Download</button>
```

Javascript

```javascript
var svgEditor = new JSYG.FullEditor("#editor");

svgEditor.enable();

svgEditor.newDocument(600,600);

$("[name=shape]").on("change",function() {
    svgEditor.shapeDrawerModel = '<'+this.value+'>';
}).trigger("change");

svgEditor.enableShapeDrawer();

$("#importImage").on("click",function() {
    svgEditor.chooseFile().then(svgEditor.insertImageFile);
});

$("#download").on("click",function() {
    svgEditor.download("svg");
});
```

### Full example script

<https://github.com/YannickBochatay/JSYG.FullEditor/blob/master/script.js>

### API

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

##### Table of Contents

*   [registerKeyShortCut](#registerkeyshortcut)
    *   [Parameters](#parameters)
*   [unregisterKeyShortCut](#unregisterkeyshortcut)
    *   [Parameters](#parameters-1)
*   [selectAll](#selectall)
*   [deselectAll](#deselectall)
*   [enableKeyShortCuts](#enablekeyshortcuts)
*   [disableKeyShortCuts](#disablekeyshortcuts)
*   [getLayers](#getlayers)
*   [addLayer](#addlayer)
*   [removeLayer](#removelayer)
*   [getDocument](#getdocument)
*   [hideEditors](#hideeditors)
*   [enableSelection](#enableselection)
*   [disableSelection](#disableselection)
*   [disableInsertion](#disableinsertion)
*   [disableEdition](#disableedition)
*   [duplicate](#duplicate)
*   [dim](#dim)
    *   [Parameters](#parameters-2)
*   [rotate](#rotate)
    *   [Parameters](#parameters-3)
*   [css](#css)
    *   [Parameters](#parameters-4)
*   [triggerChange](#triggerchange)
*   [cursorDrawing](#cursordrawing)
    *   [Properties](#properties)
*   [drawShape](#drawshape)
    *   [Parameters](#parameters-5)
*   [align](#align)
    *   [Parameters](#parameters-6)
*   [load](#load)
    *   [Parameters](#parameters-7)
*   [loadString](#loadstring)
    *   [Parameters](#parameters-8)
*   [readFile](#readfile)
    *   [Parameters](#parameters-9)
*   [loadFile](#loadfile)
    *   [Parameters](#parameters-10)
*   [loadURL](#loadurl)
    *   [Parameters](#parameters-11)
*   [loadXML](#loadxml)
    *   [Parameters](#parameters-12)
*   [newDocument](#newdocument)
    *   [Parameters](#parameters-13)
*   [toCanvas](#tocanvas)
*   [toSVGString](#tosvgstring)
    *   [Parameters](#parameters-14)
    *   [Examples](#examples)
*   [toSVGDataURL](#tosvgdataurl)
*   [toPNGDataURL](#topngdataurl)
    *   [Parameters](#parameters-15)
*   [toDataURL](#todataurl)
    *   [Parameters](#parameters-16)
*   [print](#print)
*   [downloadPNG](#downloadpng)
*   [downloadSVG](#downloadsvg)
*   [download](#download)
    *   [Parameters](#parameters-17)
*   [remove](#remove)
*   [group](#group)
*   [ungroup](#ungroup)
*   [center](#center)
    *   [Parameters](#parameters-18)
*   [centerVertically](#centervertically)
*   [centerHorizontally](#centerhorizontally)
*   [registerPlugin](#registerplugin)
    *   [Parameters](#parameters-19)
*   [defineProperty](#defineproperty)
    *   [Properties](#properties-1)
*   [defineProperty](#defineproperty-1)
    *   [Properties](#properties-2)
*   [defineProperty](#defineproperty-2)
    *   [Properties](#properties-3)
*   [defineProperty](#defineproperty-3)
    *   [Properties](#properties-4)
*   [defineProperty](#defineproperty-4)
    *   [Properties](#properties-5)
*   [defineProperty](#defineproperty-5)
    *   [Properties](#properties-6)
*   [defineProperty](#defineproperty-6)
    *   [Properties](#properties-7)
*   [defineProperty](#defineproperty-7)
    *   [Properties](#properties-8)
*   [defineProperty](#defineproperty-8)
    *   [Properties](#properties-9)
*   [defineProperty](#defineproperty-9)
    *   [Properties](#properties-10)
*   [defineProperty](#defineproperty-10)
    *   [Properties](#properties-11)
*   [defineProperty](#defineproperty-11)
    *   [Properties](#properties-12)
*   [defineProperty](#defineproperty-12)
    *   [Properties](#properties-13)

#### registerKeyShortCut

You can also pass an object with several key shortcuts as keys/values

##### Parameters

*   `key` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** jquery hotkeys syntax (example : "ctrl+i")
*   `fct` **[function](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function)** callback called when key or combination keys are pressed

Returns **JSYG.FullEditor**&#x20;

#### unregisterKeyShortCut

Unregister a key shortcut

##### Parameters

*   `key` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** jquery hotkeys syntax (example : "ctrl+i")

Returns **JSYG.FullEditor**&#x20;

#### selectAll

Select all editable elements in document

Returns **JSYG.FullEditor**&#x20;

#### deselectAll

Deselect all editable elements

Returns **JSYG.FullEditor**&#x20;

#### enableKeyShortCuts

*   **See**: JSYG.prototype.registerKeyShortCut

Enable all key shorcuts registered by registerKeyShortCut method

Returns **JSYG.FullEditor**&#x20;

#### disableKeyShortCuts

*   **See**: JSYG.prototype.registerKeyShortCut

Disable all key shorcuts registered by registerKeyShortCut method

Returns **JSYG.FullEditor**&#x20;

#### getLayers

Get all layers defined

Returns **JSYG**&#x20;

#### addLayer

Add and use a new layer

Returns **JSYG.FullEditor**&#x20;

#### removeLayer

Remove a layer

Returns **JSYG.FullEditor**&#x20;

#### getDocument

Get document as a DOM node

Returns **[Element](https://developer.mozilla.org/docs/Web/API/Element)**&#x20;

#### hideEditors

Hide shape and text editors

Returns **JSYG.FullEditor**&#x20;

#### enableSelection

Enable mouse pointer selection

Returns **JSYG.FullEditor**&#x20;

#### disableSelection

Disable mouse pointer selection

Returns **JSYG.FullEditor**&#x20;

#### disableInsertion

Disable mouse pointer insertion

Returns **JSYG.FullEditor**&#x20;

#### disableEdition

Enable edition functionalities

Returns **JSYG.FullEditor**&#x20;

#### duplicate

Duplicate selected element

Returns **JSYG.FullEditor**&#x20;

#### dim

You can also pass an object

##### Parameters

*   `prop` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** x, y , width or height
*   `value` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)**&#x20;

#### rotate

Rotate selected element

##### Parameters

*   `value` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** angle in degrees

Returns **JSYG.FullEditor**&#x20;

#### css

Get or set css property

##### Parameters

*   `prop` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** name of css property
*   `value` &#x20;

#### triggerChange

Trigger change event

Returns **JSYG.FullEditor**&#x20;

#### cursorDrawing

##### Properties

*   `cursorDrawing` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** name of css cursor when drawing is active

#### drawShape

Draw one shape

##### Parameters

*   `modele` **type**&#x20;

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)**&#x20;

#### align

Aligne les éléments sélectionnés

##### Parameters

*   `type` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** (top,middle,bottom,left,center,right)

Returns **[undefined](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/undefined)**&#x20;

#### load

Load a document from a file, an url, a xml string or a xml node

##### Parameters

*   `arg` &#x20;

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)**&#x20;

#### loadString

Load a document from a svg string

##### Parameters

*   `str` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)**&#x20;

Returns **JSYG.FullEditor**&#x20;

#### readFile

Read a File instance

##### Parameters

*   `file` **File**&#x20;
*   `readAs` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** optional, "DataURL" or "Text" ("Text" by default)

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)**&#x20;

#### loadFile

Load a document from a File instance

##### Parameters

*   `file` **File**&#x20;

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)**&#x20;

#### loadURL

Load a document from an url

##### Parameters

*   `url` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)**&#x20;

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)**&#x20;

#### loadXML

Load a document from a xml node

##### Parameters

*   `svg` **DOMElement**&#x20;

Returns **JSYG.FullEditor**&#x20;

#### newDocument

Create a new document

##### Parameters

*   `width` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)**&#x20;
*   `height` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)**&#x20;

Returns **JSYG.FullEditor**&#x20;

#### toCanvas

Convert document to a canvas element

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)**&#x20;

#### toSVGString

Convert document to a SVG string (keep links)

##### Parameters

*   `opt` **[object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** options (for the moment only "standalone" as boolean, to converts links to dataURLs)

##### Examples

```javascript
fullEditor.toSVGString({standalone:true})
```

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)**&#x20;

#### toSVGDataURL

Convert document to a SVG data url

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)**&#x20;

#### toPNGDataURL

Convert document to a PNG data url

##### Parameters

*   `format` &#x20;

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)**&#x20;

#### toDataURL

Convert document to data URL

##### Parameters

*   `format` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** "svg" or "png"

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)**&#x20;

#### print

Print document

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)**&#x20;

#### downloadPNG

Download document as PNG

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)**&#x20;

#### downloadSVG

Download document as SVG

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)**&#x20;

#### download

Download document

##### Parameters

*   `format` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** "png" or "svg"

Returns **JSYG.FullEditor**&#x20;

#### remove

Remove selection

Returns **JSYG.FullEditor**&#x20;

#### group

Group selected elements

Returns **JSYG.FullEditor**&#x20;

#### ungroup

Ungroup selection

Returns **JSYG.FullEditor**&#x20;

#### center

Center selected elements

##### Parameters

*   `orientation` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** "vertical" or "horizontal"

Returns **JSYG.FullEditor**&#x20;

#### centerVertically

Center selected elements vertically

Returns **JSYG.FullEditor**&#x20;

#### centerHorizontally

Center selected elements horizontally

Returns **JSYG.FullEditor**&#x20;

#### registerPlugin

Register a plugin

##### Parameters

*   `plugin` **[object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)**&#x20;

Returns **JSYG.FullEditor**&#x20;

#### defineProperty

##### Properties

*   `editText` **[boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** set if text elements can be edited or not

#### defineProperty

##### Properties

*   `editPosition` **[boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** set if elements position can be edited or not

#### defineProperty

##### Properties

*   `editSize` **[boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** set if elements size can be edited or not

#### defineProperty

##### Properties

*   `editRotation` **[boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** set if elements rotation can be edited or not

#### defineProperty

##### Properties

*   `editPathMainPoints` **[boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** set if main points of paths can be edited or not

#### defineProperty

##### Properties

*   `editPathCtrlPoints` **[boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** set if control points of paths can be edited or not

#### defineProperty

##### Properties

*   `canvasResizable` **[boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** set if the editor can be resized or not

#### defineProperty

##### Properties

*   `keepShapesRatio` **[boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** set if ratio must be kept when resizing

#### defineProperty

##### Properties

*   `drawingPathMethod` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** "freehand" or "point2point". Set method of drawing paths

#### defineProperty

##### Properties

*   `autoSmoothPaths` **[boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** set if paths must be smoothed automatically when drawing

#### defineProperty

##### Properties

*   `useTransformAttr` **[boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** set if transform attribute must be affected when editing size and position, instead
    of position and size attributes

#### defineProperty

##### Properties

*   `currentLayer` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** set current layer of edition

#### defineProperty

##### Properties

*   `shapeDrawerModel` **[object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** dom node to clone when starting drawing
